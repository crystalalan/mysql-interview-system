# 🚀 线上面试系统 - 完整部署指南

## 📋 准备工作清单

### 1. 安装必要工具

#### 安装Git
- 下载：https://git-scm.com/download/win
- 或使用命令：`winget install Git.Git`
- 安装后重启命令行

#### 安装Heroku CLI
- 下载：https://devcenter.heroku.com/articles/heroku-cli#install-the-heroku-cli
- 或运行项目中的 `heroku-installer.exe`
- 安装后重启命令行

#### 验证安装
```bash
git --version
heroku --version
node --version
```

### 2. 注册Heroku账户
- 访问 [heroku.com](https://heroku.com)
- 注册免费账户并验证邮箱

## 🚀 部署步骤

### 方法一：使用命令行部署（推荐）

1. **登录Heroku**
   ```bash
   heroku login
   ```

2. **初始化Git仓库**
   ```bash
   git init
   git add .
   git commit -m "Initial commit for interview system"
   ```

3. **创建Heroku应用**
   ```bash
   heroku create your-interview-system-name
   ```
   注意：应用名称必须全球唯一

4. **部署应用**
   ```bash
   git push heroku main
   ```

5. **打开应用**
   ```bash
   heroku open
   ```

### 方法二：通过Heroku网站部署

1. **准备代码**
   - 将项目上传到GitHub
   - 确保包含所有必要文件

2. **在Heroku创建应用**
   - 登录 [dashboard.heroku.com](https://dashboard.heroku.com)
   - 点击 "New" → "Create new app"
   - 输入应用名称，选择地区

3. **连接GitHub**
   - 在Deploy标签页选择GitHub
   - 连接你的GitHub账户
   - 选择项目仓库

4. **部署**
   - 选择分支（通常是main）
   - 点击 "Deploy Branch"

## 📱 部署后配置

### 访问应用
- **网址**: `https://your-app-name.herokuapp.com`
- **管理员账户**: admin / admin123

### 设置环境变量（可选）
在Heroku Dashboard → Settings → Config Vars 添加：
- `JWT_SECRET`: 你的JWT密钥

### 查看日志
```bash
heroku logs --tail
```

## 🔧 项目文件说明

### 关键配置文件
- `Procfile`: 告诉Heroku如何启动应用
- `package.json`: 包含启动脚本和依赖
- `backend/server.js`: 后端服务器，支持动态端口

### 自动环境检测
前端代码会自动检测运行环境：
- 本地：使用 `http://localhost:3000/api`
- Heroku：使用相对路径 `/api`

## ⚠️ 重要提醒

### 数据存储
- 当前使用内存存储
- Heroku每24小时重启，数据会丢失
- 适合演示和测试使用

### 生产环境建议
如需持久化存储：
1. 添加数据库服务
2. 修改代码使用数据库
3. 设置环境变量

## 🆘 常见问题

### 1. 应用名称被占用
尝试不同的名称或让Heroku自动生成：
```bash
heroku create  # 自动生成名称
```

### 2. 部署失败
查看错误日志：
```bash
heroku logs --tail
```

### 3. 应用无法访问
检查应用状态：
```bash
heroku ps
```

### 4. 需要重新部署
```bash
git add .
git commit -m "Update"
git push heroku main
```

## 📞 获取帮助

- Heroku文档：https://devcenter.heroku.com
- Git文档：https://git-scm.com/doc
- 项目问题：查看项目README.md

## 🎉 部署成功后

1. 测试所有功能
2. 分享网址给用户
3. 监控应用性能
4. 根据需要升级配置

---

**恭喜！你的线上面试系统现在可以全世界访问了！** 🌍